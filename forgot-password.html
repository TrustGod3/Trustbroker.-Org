<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reset Password - TrustBroker</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <main class="max-w-md mx-auto mt-20 bg-white p-8 rounded shadow">
    <h2 class="text-xl font-bold text-blue-800 text-center mb-4">Reset Password</h2>
    <form onsubmit="reset(event)">
      <input type="email" id="email" placeholder="Your email" class="w-full p-3 border rounded mb-4" required>
      <input type="password" id="newpass" placeholder="New Password" class="w-full p-3 border rounded mb-4" required>
      <button type="submit" class="w-full bg-blue-700 text-white py-3 rounded hover:bg-blue-800">Reset Password</button>
    </form>
  </main>
  <script>
    function reset(e) {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const newpass = document.getElementById("newpass").value;
      const user = JSON.parse(localStorage.getItem("trust_user"));
      if (user && user.email === email) {
        user.pass = newpass;
        localStorage.setItem("trust_user", JSON.stringify(user));
        alert("Password updated. You can now log in.");
        window.location.href = "signin.html";
      } else {
        alert("User not found.");
      }
    }
  </script>
</body>
</html>
